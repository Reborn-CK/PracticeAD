# 普通攻击
normal_attack:
  name: "普通攻击"
  description: "对敌人造成基础伤害。"
  cost:
    resource: "null"
    amount: 0
  ultimate_charge: 5  # 每次施法获得5%充能值
  target: "enemy"
  can_be_reflected: true
  can_be_crit: true
  versions:
    - version_id: "normal_attack_01"
      name: "普通攻击1"
      description: "基础普通攻击，造成基础伤害。"
      can_be_reflected: false
      ultimate_charge: 100
      effects:
        - type: "damage"
          damage_type: "physical"
          damage_percentage: 0.8  # 伤害百分比：80%攻击力
          affected_stat: "attack"  # 受攻击力影响
    - version_id: "normal_attack_02"
      name: "普通攻击2"
      description: "中级普通攻击，造成基础伤害。"
      can_be_reflected: true
      effects:
        - type: "damage"
          damage_type: "physical"
          damage_percentage: 1.0  # 伤害百分比：100%攻击力
          affected_stat: "attack"  # 受攻击力影响
    - version_id: "normal_attack_03"
      name: "普通攻击3,不被反伤"
      description: "高级普通攻击，造成基础伤害。"
      can_be_reflected: false
      effects:
        - type: "damage"
          amount: 25
          damage_type: "physical"
          damage_percentage: 1.2  # 伤害百分比：120%攻击力
          affected_stat: "attack"  # 受攻击力影响

# 火球术
fireball:
  name: "火球术"
  description: "发射一个火球对敌人造成火焰伤害。"
  cost:
    resource: "mana"
    amount: 10
  ultimate_charge: 15  # 每次施法获得15%充能值
  target: "enemy"
  can_be_reflected: true
  can_crit: true
  versions:
    - version_id: "fireball_01"
      name: "火球术1"
      description: "基础火球术，造成火焰伤害并可能造成燃烧。"
      effects:
        - type: "damage"
          amount: 15
          damage_type: "fire"
          damage_percentage: 0.6  # 伤害百分比：60%攻击力
          affected_stat: "attack"  # 受攻击力影响
        - type: "apply_status_effect"
          status_effect_id: "burning_01"
    - version_id: "fireball_02"
      name: "火球术2"
      description: "中级火球术，造成火焰伤害并可能造成燃烧。"
      effects:
        - type: "damage"
          amount: 20
          damage_type: "fire"
          damage_percentage: 0.8  # 伤害百分比：80%攻击力
          affected_stat: "attack"  # 受攻击力影响
        - type: "apply_status_effect"
          status_effect_id: "burning_02"

# 毒云术
poison_cloud:
  name: "毒云术"
  description: "释放毒云对敌人造成中毒效果。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  versions:
    - version_id: "poison_cloud_01"
      name: "毒云术1"
      description: "基础毒云术，对敌人施加中毒效果。"
      trigger_on_attack: false
      effects:
        - type: "apply_status_effect"
          status_effect_id: "poison_01"
    - version_id: "poison_cloud_02"
      name: "毒云术2"
      description: "中级毒云术，对敌人施加中毒效果。"
      trigger_on_attack: false
      effects:
        - type: "apply_status_effect"
          status_effect_id: "poison_02"

# 迟缓诅咒
curse_of_slowness:
  name: "迟缓诅咒"
  description: "诅咒敌人使其行动速度降低。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  versions:
    - version_id: "curse_of_slowness_01"
      name: "迟缓诅咒1"
      description: "基础迟缓诅咒，降低敌人行动速度。"
      effects:
        - type: "damage"
          amount: 10
          damage_type: "magic"
          damage_percentage: 0.3  # 伤害百分比：30%防御力
          affected_stat: "defense"  # 受防御力影响
        - type: "apply_status_effect"
          status_effect_id: "speeddown_01"
    - version_id: "curse_of_slowness_02"
      name: "迟缓诅咒2"
      description: "中级迟缓诅咒，降低敌人行动速度。"
      effects:
        - type: "apply_status_effect"
          status_effect_id: "slowdown_01"

# 加速术
haste:
  name: "加速术"
  description: "提升盟友的行动速度。"
  cost:
    resource: "mana"
    amount: 10
  target: "ally"
  versions:
    - version_id: "haste_01"
      name: "加速术"
      description: "基础加速术，提升盟友速度。"
      effects:
        - type: "apply_status_effect"
          status_effect_id: "speedup_01"

# 燃烬
combust:
  name: "燃烬"
  description: "引爆目标身上的燃烧效果，造成额外伤害。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  can_be_reflected: true
  versions:
    - version_id: "combust_01"
      name: "燃烬"
      description: "基础燃烬，引爆燃烧效果。"
      interactions:
        - type: "on_cast"
          target_has_effect: "burning_01"
          action: "consume_and_damage"
          context:
            damage_source: "remaining_dot_damage"
            damage_type: "fire"
            remove_effect_id: "burning_01"
            message: "**燃烬引爆**: {caster_name} 的[燃烬]引爆了 {target_name} 身上的[燃烧], 造成 {damage:.1f} 点伤害！"

# 治疗术
heal:
  name: "治疗术"
  description: "治疗盟友的生命值。"
  cost:
    resource: "mana"
    amount: 20
  target: "ally"
  versions:
    - version_id: "heal_01"
      name: "治疗术"
      description: "基础治疗术，恢复生命值。"
      effects:
        - type: "heal"
          amount: 20
          heal_type: "light"
    - version_id: "heal_02"
      name: "溢疗术"
      description: "高级治疗术，溢出治疗转化为护盾。"
      effects:
        - type: "heal"
          amount: 20
          heal_type: "light"
          overheal_to_shield:
            conversion_ratio: 0.5

# 雷霆术
thunderbolt:
  name: "雷霆术"
  description: "召唤雷霆对敌人造成雷电伤害。"
  cost:
    resource: "mana"
    amount: 100
  target: "enemy"
  can_be_reflected: true
  can_crit: true
  versions:
    - version_id: "thunderbolt_01"
      name: "雷霆术"
      description: "基础雷霆术，造成大量雷电伤害。"
      effects:
        - type: "damage"
          amount: 160
          damage_type: "thunder"

# 雪球术
snowball:
  name: "雪球术"
  description: "投掷雪球对敌人造成冰霜伤害。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  can_be_reflected: true
  versions:
    - version_id: "snowball_01"
      name: "雪球术"
      description: "基础雪球术，造成冰霜伤害并可能熄灭燃烧。"
      effects:
        - type: "damage"
          amount: 100
          damage_type: "ice"
      interactions:
        - type: "on_damage_deal"
          target_has_effect: "burning_01"
          action: "extinguish"
          context:
            damage_multiplier: 0.5
            apply_status_effect_id: "wet_01"
            remove_effect_id: "burning_01"
            message: "**法术联动**: {source_spell_name} 熄灭了 {target_name} 的[燃烧], 伤害减弱并附加了[潮湿]状态！"

# 风刃术
wind:
  name: "风刃术"
  description: "释放风刃对敌人造成风系伤害。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  can_be_reflected: true
  versions:
    - version_id: "wind_01"
      name: "风刃术"
      description: "基础风刃术，造成风系伤害并可能延长燃烧。"
      effects:
        - type: "damage"
          amount: 20
          damage_type: "wind"
      interactions:
        - type: "on_damage_deal"
          target_has_effect: "burning_01"
          action: "extend_duration"
          context:
            extend_duration: 10
            message: "**法术联动**: {source_spell_name} 助长了 {target_name} 的[燃烧]效果, 持续时间延长了!"

# 吸血术
vampiric_touch:
  name: "吸血术"
  description: "对敌人造成伤害并吸取生命值。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  can_be_reflected: true
  versions:
    - version_id: "vampiric_touch_01"
      name: "吸血术"
      description: "基础吸血术，造成伤害并吸取生命。"
      effects:
        - type: "damage"
          amount: 50
          damage_type: "blood"
          lifesteal_ratio: 0.5

# 溢疗转换
blessing_stance:
  name: "溢疗转换"
  description: "为盟友施加溢疗转换效果。"
  cost:
    resource: "mana"
    amount: 10
  target: "ally"
  versions:
    - version_id: "blessing_stance_01"
      name: "溢疗转换"
      description: "基础溢疗转换，将溢出治疗转化为护盾。"
      effects:
        - type: "apply_status_effect"
          status_effect_id: "overheal_conversion_01"

# 净化
purify:
  name: "净化"
  description: "移除盟友身上的负面状态效果。"
  cost:
    resource: "mana"
    amount: 10
  target: "ally"
  versions:
    - version_id: "purify_01"
      name: "净化"
      description: "基础净化，移除魔法减益效果。"
      effects:
        - type: "dispel"
          category: "magic_debuff"
          count: 1
    - version_id: "purify_02"
      name: "净化2"
      description: "高级净化，移除<count>个负面效果。"
      effects:
        - type: "dispel"
          category: "all"
          count: 5
    - version_id: "purify_03"
      name: "净化3"
      description: "终极净化，减少减益效果的层数和持续时间。"
      effects:
        - type: "reduce_debuffs"
          reduce_stack_count: 1
          reduce_duration_count: 1

# 驱散
dispel:
  name: "驱散"
  description: "移除敌人身上的增益状态效果。"
  cost:
    resource: "mana"
    amount: 10
  target: "enemy"
  versions:
    - version_id: "dispel_01"
      name: "驱散"
      description: "基础驱散，移除魔法增益效果。"
      effects:
        - type: "dispel"
          category: "magic_buff"
          count: 5

# 毒液强化
poison_amplify:
  name: "毒液强化"
  description: "强化目标身上的中毒效果。"
  cost:
    resource: "mana"
    amount: 15
  target: "enemy"
  versions:
    - version_id: "poison_amplify_01"
      name: "毒液强化"
      description: "基础毒液强化，增加中毒层数。"
      effects:
        - type: "amplify_poison"
          amplify_amount: 2

# 毒爆术
poison_detonate:
  name: "毒爆术"
  description: "引爆目标身上的中毒效果，造成大量伤害。"
  cost:
    resource: "mana"
    amount: 25
  target: "enemy"
  versions:
    - version_id: "poison_detonate_01"
      name: "毒爆术"
      description: "基础毒爆术，引爆中毒效果造成伤害。"
      effects:
        - type: "detonate_poison"
          damage_multiplier: 2.0

# 能量技能 - 使用能量点而非法力值

# 能量冲击
energy_blast:
  name: "能量冲击"
  description: "消耗能量点释放强大的能量冲击。"
  cost:
    resource: "energy"
    amount: 1
  ultimate_charge: 20  # 每次施法获得20%充能值
  target: "enemy"
  can_be_reflected: true
  can_crit: true
  versions:
    - version_id: "energy_blast_01"
      name: "能量冲击1"
      description: "基础能量冲击，造成纯能量伤害。"
      effects:
        - type: "damage"
          amount: 30
          damage_type: "pure"
          damage_percentage: 1.0  # 伤害百分比：100%攻击力
          affected_stat: "attack"  # 受攻击力影响
    - version_id: "energy_blast_02"
      name: "能量冲击2"
      description: "中级能量冲击，造成更高的纯能量伤害。"
      ultimate_charge: 200  # 每次施法获得200%充能值
      effects:
        - type: "damage"
          amount: 45
          damage_type: "pure"
          damage_percentage: 1.5  # 伤害百分比：150%攻击力
          affected_stat: "attack"  # 受攻击力影响

# 能量护盾
energy_shield:
  name: "能量护盾"
  description: "消耗能量点为自己或队友提供护盾。"
  cost:
    resource: "energy"
    amount: 1
  ultimate_charge: 15  # 每次施法获得15%充能值
  target: "ally"
  versions:
    - version_id: "energy_shield_01"
      name: "能量护盾1"
      description: "基础能量护盾，提供中等护盾值。"
      effects:
        - type: "add_shield"
          amount: 25
          shield_percentage: 0.5  # 护盾百分比：50%防御力
          affected_stat: "defense"  # 受防御力影响
    - version_id: "energy_shield_02"
      name: "能量护盾2"
      description: "中级能量护盾，提供更高的护盾值。"
      effects:
        - type: "add_shield"
          amount: 40
          shield_percentage: 0.8  # 护盾百分比：80%防御力
          affected_stat: "defense"  # 受防御力影响

# 能量爆发
energy_burst:
  name: "能量爆发"
  description: "消耗大量能量点释放强大的爆发技能。"
  cost:
    resource: "energy"
    amount: 2
  ultimate_charge: 25  # 每次施法获得25%充能值
  target: "enemy"
  can_be_reflected: true
  can_crit: true
  versions:
    - version_id: "energy_burst_01"
      name: "能量爆发1"
      description: "基础能量爆发，造成大量伤害并可能击晕敌人。"
      effects:
        - type: "damage"
          amount: 60
          damage_type: "pure"
          damage_percentage: 2.0  # 伤害百分比：200%攻击力
          affected_stat: "attack"  # 受攻击力影响
        - type: "apply_status_effect"
          status_effect_id: "stun_01"
    - version_id: "energy_burst_02"
      name: "能量爆发2"
      description: "中级能量爆发，造成更高伤害并必定击晕敌人。"
      effects:
        - type: "damage"
          amount: 80
          damage_type: "pure"
          damage_percentage: 2.5  # 伤害百分比：250%攻击力
          affected_stat: "attack"  # 受攻击力影响
        - type: "apply_status_effect"
          status_effect_id: "stun_02"

# 能量恢复
energy_restore:
  name: "能量恢复"
  description: "消耗能量点恢复生命值。"
  cost:
    resource: "energy"
    amount: 1
  ultimate_charge: 10  # 每次施法获得10%充能值
  target: "ally"
  versions:
    - version_id: "energy_restore_01"
      name: "能量恢复1"
      description: "基础能量恢复，恢复中等生命值。"
      effects:
        - type: "heal"
          amount: 35
          heal_percentage: 0.7  # 治疗百分比：70%攻击力
          affected_stat: "attack"  # 受攻击力影响
    - version_id: "energy_restore_02"
      name: "能量恢复2"
      description: "中级能量恢复，恢复更多生命值。"
      effects:
        - type: "heal"
          amount: 50
          heal_percentage: 1.0  # 治疗百分比：100%攻击力
          affected_stat: "attack"  # 受攻击力影响

# 终极技能 - 消耗充能值释放的强大技能

# 终极技能
ultimate:
  name: "终极技能"
  description: "消耗充能值释放的强大终极技能。"
  cost:
    resource: "ultimate"
    amount: 100
  ultimate_charge: 0  # 基础技能不提供充能值
  target: "enemy"
  can_be_reflected: true
  can_crit: true
  versions:
    - version_id: "ultimate_01"
      name: "终极技能1"
      description: "基础终极技能，造成巨大伤害。"
      cost:
        resource: "ultimate"
        amount: 100
      ultimate_charge: 0  # 版本1不提供充能值
      target: "enemy"  # 覆盖目标类型
      effects:
        - type: "damage"
          amount: 100
          damage_type: "pure"
          damage_percentage: 3.0  # 伤害百分比：300%攻击力
          affected_stat: "attack"  # 受攻击力影响
    - version_id: "ultimate_02"
      name: "终极技能2"
      description: "升级版终极技能，造成毁灭性伤害。"
      cost:
        resource: "ultimate"
        amount: 200
      ultimate_charge: 0  # 版本2不提供充能值
      target: "ally"  # 覆盖目标类型为盟友
      can_be_reflected: false  # 覆盖反射设置
      effects:
        - type: "damage"
          amount: 200
          damage_type: "pure"
          damage_percentage: 5.0  # 伤害百分比：500%攻击力
          affected_stat: "attack"  # 受攻击力影响
        - type: "apply_status_effect"
          status_effect_id: "stun_01"
